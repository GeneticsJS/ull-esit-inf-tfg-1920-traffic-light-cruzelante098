\chapter{Summary and future work}
\label{cap:conclusions}

The objective for this project was to find out if, with the installation of traffic lights optimized by an evolutionary algorithm, it was possible to improve the traffic of the Padre Anchieta roundabout, thus avoiding the slowdown of traffic that occurs day after day at peak hours due to the large influx of vehicles and pedestrians that circulate through it. To carry out the project, SUMO was used as a traffic simulator, and \texttt{Genetics.js} as a TypeScript library for the evolutionary algorithm's execution. The problem to be solved is none other than the Traffic Light Scheduling Problem (TLSP): the optimization of the duration of the traffic light phases; in this case, using a genetic algorithm.

To do this, a map of the area of the Padre Anchieta roundabout has been obtained thanks to OpenStreetMap. Later, this map was converted to the format of a network file readable by the simulator (thanks to \texttt{NETCONVERT}) and has been extensively modified to: incorporate traffic lights, pedestrian crossings, sidewalks, correct the shape and some data of the roads (i.e.: the speed, which was incorrect in some roads), the shape of the intersections, etc. All this was done with \texttt{NETEDIT}, a network file manipulation program. This has given us a file that represents with a high level of reliability the roads in the area close to the roundabout. 

Likewise, a traffic file has been generated based on data from traffic gauges obtained by the Tenerife Island Council, in a study carried out by the corporation in November 2019. The traffic file has been generated from the treatment of the data of the traffic lights, with a simulator tool (\texttt{flowrouter.py}) that allows to generate traffic flows on the network file from these data. Finally, the pedestrians have been generated in a random and uniform way due to the fact that there is no information about the circulation of pedestrians in the area.

Next, a set of instances were designed according to the configuration of the traffic lights and the number of pedestrians that would circulate in the area. In total, seven instances were designed: three instances without traffic lights, and four with traffic lights. The main difference in the instances without traffic lights was the number of pedestrians, which ranged from none to 2000. Regarding the instances with semaphores, they can be divided into two groups. The first one included semaphores in all the entrances and exits, varying the behavior of the inner lane of the roundabout, so that in one instance the semaphores of this lane were always green (when the intersection allowed it), while in the other one the semaphores varied together with the ones of the outer lane. The second group of instances only included traffic lights to the north and south of the roundabout, varying only in the number of pedestrians.

Once the instances were designed, a previous statistical study was carried out to determine which of the parameters of the genetic algorithm were best for each instance (only applied to those with traffic lights), so that better results could be obtained from the algorithm's execution. This study focused on evaluating two different parameters: the type of crossover used (\texttt{UniformCrossover} or \texttt{OnePointCrossover}) and the size of the population (10 or 50). Once the study of all the possible configurations for each instance had been carried out, they were compared in pairs and a classification was made to determine which of the configurations offered better results. The conclusion reached was that the crossover \texttt{UniformCrossover} and a population with 50 individuals provided the best results for two of the four instances, while for the other two there was no difference between using that configuration and \texttt{OnePointCrossover} and a population of size 50. For simplicity's sake, \texttt{UniformCrossover} and a population with 50 individuals were used for all instances.

Once the simulation was completed and the results provided by SUMO for each instance were evaluated, it was found that none of them offered more efficient traffic circulation than the instance without pedestrians or traffic lights. On the other hand, none of the instances with traffic lights managed to improve the results of the instance without traffic lights with a greater number of pedestrians, which indicates that the use of traffic lights in the roundabout will not improve traffic, even though its phases have been optimized.

In the same way, the results indicate a worsening of traffic efficiency when the number of pedestrians increases, which could justify the construction of the cantilevered pedestrian platform proposed by the Cabildo de Tenerife to optimize road traffic.

Finally, it is worth mentioning some lines of work that would help consolidate the results and provide more information about traffic in the area:


\begin{enumerate}
    \item The sample of instances could be extended to include a larger number of pedestrian traffic light configurations. With respect to the traffic lights, these could be placed in different positions. For example: to the east and west, at the four cardinal points, or at specific entrances to the roundabout that are particularly congested in relation to the others, which would help locate and limit the flow of vehicles causing congestion. And with regard to pedestrians, a more granular and extensive linear series should be followed; so that the way in which they affect traffic can be studied in more detail. An experimental study of the movement of pedestrians in the area would also be ideal.

    \item More configurations of the evolutionary algorithm could be tested. For example: including more types of crossovers and a greater number of values with respect to the size of the population. Similarly, other variables such as the number of generations, the mutation rate or the selection algorithm could be included. This would allow to search in a wider space the optimal configuration of the algorithm for each one of the instances, to reach better and more detailed results.

    \item Simulations could be performed with more variation in the traffic flow data, including data from the gauges for different hours and days.

    \item The simulation area could be extended, since the jams that occur in the Padre Anchieta roundabout could be caused because jams in other paths of the zone that have not been included in the network file. I.e.: the streets of Trinidad Avenue.

    \item A language and library more in line with the requirements of the project could be used, since \texttt{Genetics.js} is still in an early version of development and needs the implementation of several operators and certain functionalities that were shown to be necessary for the project; although because it is open source, many of these functionalities could be implemented as they were needed.

    \item Other desirable factors could be considered for inclusion in the objective function. For example, the ratio of the duration of the phases containing more green lights compared to those containing more red lights, a factor that did include the reference article on which the objective function of this project is based.

    \item Currently, individuals are evaluated only once during the execution of the evolutionary algorithm. It would be interesting to evaluate a solution through different replicas of the same individual with different seeds.
    
    \item The time before teleporting a stopped vehicle needs further study to determine the appropriate value; not too small (so as not to teleport vehicles that might be stuck in traffic) and not too big (so that vehicles stopped for no apparent reason don't damage the simulation results).
\end{enumerate}