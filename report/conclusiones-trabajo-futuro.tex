\chapter{Conclusiones y líneas futuras}
\label{cap:conclusiones}

El objetivo de este Trabajo de Fin de Grado residía en averiguar si, con la instalación de semáforos optimizados por un algoritmo evolutivo, era posible mejorar el tráfico de la rotonda del Padre Anchieta, evitando así la ralentización del tráfico que día tras día se produce en horas punta debido a la gran afluencia de vehículos y peatones que circulan a través de la rotonda. Para llevar a cabo el proyecto, se empleó SUMO como simulador de tráfico, y Genetics.js para la ejecución del algoritmo evolutivo. El problema a resolver no es otro que el TLSP \textit{(Traffic Light Scheduling Problem)}: la optimización de la duración de las fases de los semáforos; en este caso, empleando un algoritmo genético.

Para ello, se han obtenido un mapa de la zona de la rotonda del Padre Anchieta gracias a OpenStreetMap. Posteriormente, dicho mapa se convirtió al formato de un archivo de red legible por el simulador (gracias a \texttt{NETCONVERT}) y ha sido modificado profusamente para: incorporar semáforos, pasos de peatones, aceras, corregir la forma y algunos datos de las vías (por ejemplo: la velocidad, la cual era incorrecta en algunas vías), la forma de las intersecciones, etc. Todo ello fue realizado con \texttt{NETEDIT}, un programa de manipulación de archivos de red. Esto nos ha brindado un archivo que representa con un alto nivel de fiabilidad las vías de la zona de la rotonda. 

Asimismo, se ha generado un archivo de tráfico en función de datos de aforadores obtenidos por el Cabildo de Tenerife, en un estudio realizado por la corporación en noviembre de 2019. El archivo de tráfico ha sido generado a partir del tratamiento de los datos de los aforadores, con una herramienta del simulador (\texttt{flowrouter.py}) que permite generar flujos de tráfico sobre el archivo de red a partir de estos datos. Finalmente, los peatones se han generado de manera aleatoria y uniforme debido a que no existe información sobre la circulación de peatones en la zona.

A continuación, se diseñaron un conjunto de instancias en función de la configuración de los semáforos y de la cantidad de peatones que circularían por la zona. En total, fueron siete: tres instancias sin semáforos, y cuatro con semáforos. La principal diferencia en las instancias sin semáforos era la cantidad de peatones, que iba desde ninguno hasta \textasciitilde2000. Respecto a las instancias con semáforos, se pueden dividir en dos grupos. El primero incluía semáforos en todas las entradas y salidas, variando el comportamiento del carril interno de la rotonda, de modo que en una instancia los semáforos de este carril estaban siempre en verde (cuando la intersección lo permitía), mientras que en la otra los semáforos variaban junto con los del carril exterior. El segundo grupo de instancias solo incluía semáforos al norte y al sur de la rotonda, variando únicamente en la cantidad de peatones.

Diseñadas las instancias, se llevó a cabo un estudio estadístico previo para determinar cuáles de los parámetros del algoritmo genético eran los indicados para cada instancia (únicamente de las que tienen semáforos), de modo que se pudieran obtener mejores resultados con la ejecución del algoritmo. Dicho estudio se centró en evaluar dos parámetros distintos: el tipo de cruce empleado (\texttt{UniformCrossover} o \texttt{OnePointCrossover}) y el tamaño de la población (10 o 50). Realizado el estudio de todas las configuraciones posibles para cada una instancia, se compararon en parejas y se realizó una clasificación para determinar cual de las configuraciones obtenía mejores resultados. La conclusión alcanzada fue que el cruce \texttt{UniformCrossover} y una población con 50 individuos proporcionaba los mejores resultados en general para dos de las cuatro instancias, mientras que para las otras dos no había diferencia entre emplear dicha configuración y \texttt{OnePointCrossover} y una población de tamaño 50. Así pues, se empleó la primera por simple comodidad para realizar la simulación final.

Finalmente, evaluando los resultados provistos por SUMO para cada instancia, se pudo apreciar que ninguna de ellas ofrece un tráfico más eficiente que la instancia sin peatones ni semáforos. Por otro lado, ninguna de las instancias con semáforos consiguió mejorar los resultados de la instancia sin semáforos con mayor cantidad de peatones, lo que indica que el empleo de semáforos en la rotonda no mejorará el tráfico, aún cuando sus fases han sido optimizadas.

Sin embargo, han de mencionarse algunas líneas de trabajo que ayudarían a consolidar los resultados y ofrecer más información sobre el tráfico de la zona.

En primer lugar, la muestra de instancias podría ampliarse para incluir una mayor cantidad de configuraciones de semáforos de peatones. Con respecto a los semáforos, estos podrían colocarse en posiciones distintas. Por ejemplo: al este y al oeste, en los cuatro puntos cardinales, o en entradas concretas a la rotonda que se revelen como particularmente congestivas en relación con las otras, lo que ayudaría a localizar y limitar el flujo de vehículos que causan congestión. Y con respecto a los peatones, debería seguirse una serie lineal más granular y amplia; de modo que se pueda estudiar con más detalle la manera en que estos afectan al tráfico. También sería ideal realizar un estudio experimental sobre el movimiento de los peatones de la zona.

En segundo lugar, podrían probarse más configuraciones del algoritmo evolutivo. Por ejemplo: incluyendo más tipos de cruces y una mayor cantidad de valores con respecto al tamaño de la población. De igual modo, podrían incluirse otras variables como la cantidad de generaciones, el ratio de mutación o el algoritmo de selección. Ello permitiría buscar en un espacio más amplio la configuración óptima del algoritmo para cada una de las instancias, con el objetivo de alcanzar mejores resultados.

En tercer lugar, podrían realizarse simulaciones con más variación en los datos de circulación del tráfico, incluyendo datos de los aforadores de horas y días distintos.

En cuarto lugar, podría ampliarse la zona de simulación, puesto que los atascos que se producen en la rotonda del Padre Anchieta podrían traer causa en otras vías que no se han incluido en el archivo de red. Por ejemplo: las calles conexas de la Av. Trinidad.

En quinto lugar, podría emplearse un lenguaje y librería más acorde con los requerimientos del proyecto, puesto que Genetics.js todavía está en una versión temprana de desarrollo y necesita la implementación de varios operadores y determinadas funcionalidades que se demostraron necesarias para el proyecto; aunque al ser de código abierto muchas de estas funcionalidades pudieron ser implementadas sobre la marcha.

En sexto y último lugar, podría considerarse la inclusión de otros factores deseables en la función objetivo. Podría comenzarse, por ejemplo, con la inclusión del ratio de la duración de las fases que contienen más luces verdes en comparación con las que contienen más luces en rojo, factor que sí incluía el artículo de referencia en el cual se basa la función objetivo.